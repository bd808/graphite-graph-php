<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8'/>
    <title>Docs For Class Graphite_GraphBuilder</title>
    <link rel="stylesheet" type="text/css" href="../media/style.css" />
  </head>
  <body>
    <div id="container">
      <header id="header">
        <h1>Graphite_GraphBuilder Manual :: Docs For Class Graphite_GraphBuilder</h1>
        <a href="https://github.com/bd808/graphite-graph-php"><img style="position:absolute;top:0;right:0;border:0;" src="https://a248.e.akamai.net/assets.github.com/img/7afbc8b248c68eb468279e8c17986ad46549fb71/687474703a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub"></a>
      </header>
      <div id="main">
        <div id="sidebar">
                                <h2>Tutorials/Manuals:</h2>
            <div class="package">
                              <strong>Package-level:</strong>
                                  <ul>
	<li type="square"><a href="../Graphite/tutorial_Graphite.pkg.html">Graphite_GraphBuilder Manual</a>
</ul>

                                                                      </div>
                    <h2>Packages:</h2>
          <div class="package">
            <ul>
                              <li>
                  <a href="../classtrees_Graphite.html">Graphite</a>
                </li>
                          </ul>
          </div>
                                              <h2>Classes:</h2>
                <div class="package"><ul>
	<li>Graph<ul>			<li><a href="../Graphite/Graph/Graphite_Graph_CallSpec.html">Graphite_Graph_CallSpec</a></li>			<li><a href="../Graphite/Graph/Graphite_Graph_Functions.html">Graphite_Graph_Functions</a></li>			<li><a href="../Graphite/Graph/Graphite_Graph_Generators.html">Graphite_Graph_Generators</a></li>			<li><a href="../Graphite/Graph/Graphite_Graph_IniHelper.html">Graphite_Graph_IniHelper</a></li>			<li><a href="../Graphite/Graph/Graphite_Graph_Params.html">Graphite_Graph_Params</a></li>			<li><a href="../Graphite/Graph/Graphite_Graph_Series.html">Graphite_Graph_Series</a></li>		</ul></li>  </ul>
  </div>
  <div class="package"><ul>
				<li><a href="../Graphite/Graphite_ConfigurationException.html">Graphite_ConfigurationException</a></li>			<li><a href="../Graphite/Graphite_GraphBuilder.html">Graphite_GraphBuilder</a></li>			<li><a href="../Graphite/Graphite_IniParser.html">Graphite_IniParser</a></li>		  </ul>
  </div>
                                                    </div>
        <div id="content">
          <div class="nav">
            
                                          
                                      [ <a href="../index.html">Index</a> ]
                          [ <a href="../classtrees_Graphite.html">Graphite classes</a> ]
              [ <a href="../elementindex_Graphite.html">Graphite elements</a> ]
                        [ <a href="../elementindex.html">All elements</a> ]
          </div>
<a name="sec-description"></a>
<h2>Class Graphite_GraphBuilder</h2>

<p>Graphite graph query string generator.</p><div><p>DSL and ini file driven API to assist in generating Graphite graph query  strings.</p><p>Example:  <ol><li><div class="src-line"><span class="src-php">&lt;?php</span></div></li>
<li><div class="src-line"><span class="src-doc">/**</span></div></li>
<li><div class="src-line"><span class="src-doc">&nbsp;*&nbsp;Example&nbsp;usage&nbsp;of&nbsp;the&nbsp;DSL&nbsp;API&nbsp;to&nbsp;construct&nbsp;a&nbsp;graph&nbsp;of&nbsp;memory&nbsp;usage.</span></div></li>
<li><div class="src-line"><span class="src-doc">&nbsp;*/</span></div></li>
<li><div class="src-line">&nbsp;</div></li>
<li><div class="src-line"><span class="src-inc">require_once&nbsp;</span><span class="src-id">dirname</span><span class="src-sym">(</span>__FILE__<span class="src-sym">)&nbsp;</span>.&nbsp;<span class="src-str">'/../src/autoload.php'</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;</div></li>
<li><div class="src-line"><span class="src-var">$g&nbsp;</span>=&nbsp;<span class="src-id"><a href="../Graphite/Graphite_GraphBuilder.html">Graphite_GraphBuilder</a></span><span class="src-sym">::</span><a href="../Graphite/Graphite_GraphBuilder.html#methodbuilder">builder</a><span class="src-sym">(</span><span class="src-sym">)</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">-&gt;</span><span class="src-id">title</span><span class="src-sym">(</span><span class="src-str">'Memory'</span><span class="src-sym">)</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">-&gt;</span><span class="src-id">vtitle</span><span class="src-sym">(</span><span class="src-str">'Mbytes'</span><span class="src-sym">)</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">-&gt;</span><span class="src-id">width</span><span class="src-sym">(</span><span class="src-num">800</span><span class="src-sym">)</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">-&gt;</span><span class="src-id">height</span><span class="src-sym">(</span><span class="src-num">600</span><span class="src-sym">)</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">-&gt;</span><span class="src-id">bgcolor</span><span class="src-sym">(</span><span class="src-str">'white'</span><span class="src-sym">)</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">-&gt;</span><span class="src-id">fgcolor</span><span class="src-sym">(</span><span class="src-str">'black'</span><span class="src-sym">)</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">-&gt;</span><span class="src-id">from</span><span class="src-sym">(</span><span class="src-str">'-2days'</span><span class="src-sym">)</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">-&gt;</span><span class="src-id">area</span><span class="src-sym">(</span><span class="src-str">'stacked'</span><span class="src-sym">)</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">-&gt;</span><a href="../Graphite/Graphite_GraphBuilder.html#methodprefix">prefix</a><span class="src-sym">(</span><span class="src-str">'collectd'</span><span class="src-sym">)</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">-&gt;</span><a href="../Graphite/Graphite_GraphBuilder.html#methodprefix">prefix</a><span class="src-sym">(</span><span class="src-str">'com.example.host'</span><span class="src-sym">)</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">-&gt;</span><a href="../Graphite/Graphite_GraphBuilder.html#methodprefix">prefix</a><span class="src-sym">(</span><span class="src-str">'snmp'</span><span class="src-sym">)</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">-&gt;</span><a href="../Graphite/Graphite_GraphBuilder.html#methodseries">series</a><span class="src-sym">(</span><span class="src-str">'memory-free'</span><span class="src-sym">,&nbsp;</span><span class="src-key">array</span><span class="src-sym">(</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'cactistyle'&nbsp;</span>=&gt;&nbsp;<span class="src-id">true</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'color'&nbsp;</span>=&gt;&nbsp;<span class="src-str">'00c000'</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'alias'&nbsp;</span>=&gt;&nbsp;<span class="src-str">'Free'</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'scale'&nbsp;</span>=&gt;&nbsp;<span class="src-str">'0.00000095367'</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">))</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">-&gt;</span><a href="../Graphite/Graphite_GraphBuilder.html#methodseries">series</a><span class="src-sym">(</span><span class="src-str">'memory-used'</span><span class="src-sym">,&nbsp;</span><span class="src-key">array</span><span class="src-sym">(</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'cactistyle'&nbsp;</span>=&gt;&nbsp;<span class="src-id">true</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'color'&nbsp;</span>=&gt;&nbsp;<span class="src-str">'c00000'</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'alias'&nbsp;</span>=&gt;&nbsp;<span class="src-str">'Used'</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-str">'scale'&nbsp;</span>=&gt;&nbsp;<span class="src-str">'0.00000095367'</span><span class="src-sym">,</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">))</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">;</span></div></li>
<li><div class="src-line"><span class="src-php">?&gt;</span></div></li>
<li><div class="src-line">&lt;!DOCTYPE&nbsp;html&gt;</div></li>
<li><div class="src-line">&lt;html&gt;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&lt;head&gt;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&lt;title&gt;&lt;/title&gt;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&lt;head&gt;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&lt;body&gt;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&lt;img&nbsp;src=&quot;http://graphite.example.com/render?<span class="src-php">&lt;?php&nbsp;</span>echo&nbsp;<span class="src-var">$g</span><span class="src-sym">;&nbsp;</span><span class="src-php">?&gt;</span>&quot;&gt;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&lt;/body&gt;</div></li>
<li><div class="src-line">&lt;/html&gt;</div></li>
</ol></p></div>




  <strong>Author(s):</strong>
  <ul>
                  <li>Bryan Davis &lt;<a href="mailto:bd808@bd808.com">bd808@bd808.com</a>&gt;</li>
                                                              </ul>

  <table>
    	      	  		<tr>
		  <td>
		    <strong>Copyright:</strong>&nbsp;&nbsp;
		  </td>
		  <td>2012 Bryan Davis and contributors. All Rights Reserved.</td>
		</tr>
	      	  		<tr>
		  <td>
		    <strong>Link:</strong>&nbsp;&nbsp;
		  </td>
		  <td><a href="http://readthedocs.org/docs/graphite/en/latest/url-api.html">http://readthedocs.org/docs/graphite/en/latest/url-api.html</a></td>
		</tr>
	      	  		<tr>
		  <td>
		    <strong>Link:</strong>&nbsp;&nbsp;
		  </td>
		  <td><a href="http://bd808.com/graphite-graph-php/">http://bd808.com/graphite-graph-php/</a></td>
		</tr>
	      	  		<tr>
		  <td>
		    <strong>Link:</strong>&nbsp;&nbsp;
		  </td>
		  <td><a href="http://graphite.wikidot.com/">http://graphite.wikidot.com/</a></td>
		</tr>
	      	  		<tr>
		  <td>
		    <strong>License:</strong>&nbsp;&nbsp;
		  </td>
		  <td><a href="http://www.opensource.org/licenses/BSD-2-Clause">Simplified BSD License</a></td>
		</tr>
	        </table>





  <a name="sec-var-summary"></a>
  <h2>Member Variables</h2>
  <table class="summary">
                                                              <tr>
          <td class="right">
            <em>protected</em>            <em>array</em>          </td>
          <td>
            <code>
              $meta
               = <span class="var-default">array()</span>            </code>
            <br /><div style="margin-left: 20px">Configuration metadata.</div>            <br /><div style="margin-left: 20px"><p>Metadata is arbitrary configuration data that may be used in creating a  graph but is not directly graph settings or rendered targets. Examples  include ini-file prefix configurations and abstract series.</p><p>The top level array is keyed on category. Each category is expected to be  an array of name =&gt; data pairs. The format of the data is category  specific.</p></div>          </td>
        </tr>
                        <tr>
          <td class="right">
            <em>protected</em>            <em>array</em>          </td>
          <td>
            <code>
              $prefixStack
                          </code>
            <br /><div style="margin-left: 20px">Series prefix stack.</div>                      </td>
        </tr>
                        <tr>
          <td class="right">
            <em>protected</em>            <em>array</em>          </td>
          <td>
            <code>
              $settings
                          </code>
            <br /><div style="margin-left: 20px">Graph settings.</div>                      </td>
        </tr>
                        <tr>
          <td class="right">
            <em>protected</em>            <em>array</em>          </td>
          <td>
            <code>
              $targets
                          </code>
            <br /><div style="margin-left: 20px">Configuration for each target that will be rendered or retrieved.</div>                      </td>
        </tr>
            </table>


  <a name="sec-method-summary"></a>
  <h2>Method Summary</h2>
  <table class="summary">
                                      <tr>
          <td class="right">
            <em>public</em>            static
                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#builder"><b>builder</b></a>(
                                                                  [                  $settings
                   = null]                               )
            </code>
            <br /><div style="margin-left: 20px">Builder factory.</div>          </td>
        </tr>
                                                                                                                                      <tr>
          <td class="right">
            <em>public</em>            static
                        <em>string</em>          </td>
          <td>
            <code>
              <a href="#qsEncode"><b>qsEncode</b></a>(
                                                                                    $str
                                                 )
            </code>
            <br /><div style="margin-left: 20px">Query string specific uri encoding.</div>          </td>
        </tr>
                                                                                                                      <tr>
          <td class="right">
            <em>public</em>                        <em>Graphite_GraphBuilder</em>          </td>
          <td>
            <code>
              <a href="#__construct"><b>__construct</b></a>(
                                                                  [                  $settings
                   = null]                               )
            </code>
            <br /><div style="margin-left: 20px">Constructor.</div>          </td>
        </tr>
                        <tr>
          <td class="right">
            <em>public</em>                        <em>string</em>          </td>
          <td>
            <code>
              <a href="#build"><b>build</b></a>(
                                                                  [                  $format
                   = null]                               )
            </code>
            <br /><div style="margin-left: 20px">Generate a graphite graph description query string.</div>          </td>
        </tr>
                                  <tr>
          <td class="right">
            <em>public</em>                        <em><a href="../Graphite/Graph/Graphite_Graph_Series.html">Graphite_Graph_Series</a></em>          </td>
          <td>
            <code>
              <a href="#buildSeries"><b>buildSeries</b></a>(
                                                                                    $name
                                                 )
            </code>
            <br /><div style="margin-left: 20px">Add a data series to the graph using the <a href="../Graphite/Graph/Graphite_Graph_Series.html">Graphite_Graph_Series</a>  fluent builder DSL.</div>          </td>
        </tr>
                        <tr>
          <td class="right">
            <em>public</em>                        <em>string</em>          </td>
          <td>
            <code>
              <a href="#currentPrefix"><b>currentPrefix</b></a>(
               )
            </code>
            <br /><div style="margin-left: 20px">Get the current target prefix.</div>          </td>
        </tr>
                        <tr>
          <td class="right">
            <em>public</em>                        <em><a href="../Graphite/Graphite_GraphBuilder.html">Graphite_GraphBuilder</a></em>          </td>
          <td>
            <code>
              <a href="#endPrefix"><b>endPrefix</b></a>(
               )
            </code>
            <br /><div style="margin-left: 20px">End prefix block.</div>          </td>
        </tr>
                        <tr>
          <td class="right">
            <em>public</em>                        <em><a href="../Graphite/Graphite_GraphBuilder.html">Graphite_GraphBuilder</a></em>          </td>
          <td>
            <code>
              <a href="#forecast"><b>forecast</b></a>(
                                                                                    $name
                                                    ,                                     $opts
                                                 )
            </code>
            <br /><div style="margin-left: 20px">Add forecast, confidence bands, aberrations and base series using the  Holt-Winters Confidence Band prediction model.</div>          </td>
        </tr>
                        <tr>
          <td class="right">
            <em>public</em>                        <em>mixed</em>          </td>
          <td>
            <code>
              <a href="#getMeta"><b>getMeta</b></a>(
                                                                                    $type
                                                    ,                                     $name
                                                    ,                   [                  $default
                   = array()]                               )
            </code>
            <br /><div style="margin-left: 20px">Get metadata by type and name.</div>          </td>
        </tr>
                        <tr>
          <td class="right">
            <em>public</em>                        <em><a href="../Graphite/Graphite_GraphBuilder.html">Graphite_GraphBuilder</a></em>          </td>
          <td>
            <code>
              <a href="#ini"><b>ini</b></a>(
                                                                                    $file
                                                    ,                   [                  $vars
                   = null]                               )
            </code>
            <br /><div style="margin-left: 20px">Load a graph description file.</div>          </td>
        </tr>
                        <tr>
          <td class="right">
            <em>public</em>                        <em><a href="../Graphite/Graphite_GraphBuilder.html">Graphite_GraphBuilder</a></em>          </td>
          <td>
            <code>
              <a href="#line"><b>line</b></a>(
                                                                                    $opts
                                                 )
            </code>
            <br /><div style="margin-left: 20px">Draws a straight line on the graph.</div>          </td>
        </tr>
                        <tr>
          <td class="right">
            <em>public</em>                        <em>string</em>          </td>
          <td>
            <code>
              <a href="#lookupPrefix"><b>lookupPrefix</b></a>(
                                                                                    $name
                                                 )
            </code>
            <br /><div style="margin-left: 20px">Lookup a prefix in this graph's metadata.</div>          </td>
        </tr>
                        <tr>
          <td class="right">
            <em>public</em>                        <em><a href="../Graphite/Graphite_GraphBuilder.html">Graphite_GraphBuilder</a></em>          </td>
          <td>
            <code>
              <a href="#metric"><b>metric</b></a>(
                                                                                    $name
                                                    ,                   [                  $opts
                   = array()]                               )
            </code>
            <br /><div style="margin-left: 20px">Add a data series to the graph.</div>          </td>
        </tr>
                        <tr>
          <td class="right">
            <em>public</em>                        <em><a href="../Graphite/Graphite_GraphBuilder.html">Graphite_GraphBuilder</a></em>          </td>
          <td>
            <code>
              <a href="#prefix"><b>prefix</b></a>(
                                                                                    $prefix
                                                 )
            </code>
            <br /><div style="margin-left: 20px">Set a prefix to add to subsequent series.</div>          </td>
        </tr>
                        <tr>
          <td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#qs"><b>qs</b></a>(
                                                                  [                  $format
                   = null]                               )
            </code>
            <br /><div style="margin-left: 20px">Alias for build().</div>          </td>
        </tr>
                                  <tr>
          <td class="right">
            <em>public</em>                        <em><a href="../Graphite/Graphite_GraphBuilder.html">Graphite_GraphBuilder</a></em>          </td>
          <td>
            <code>
              <a href="#reset"><b>reset</b></a>(
                                                                  [                  $settings
                   = null]                               )
            </code>
            <br /><div style="margin-left: 20px">Reset builder to empty state.</div>          </td>
        </tr>
                        <tr>
          <td class="right">
            <em>protected</em>                        <em>string</em>          </td>
          <td>
            <code>
              <a href="#resolvePrefix"><b>resolvePrefix</b></a>(
                                                                                    $meta
                                                 )
            </code>
            <br /><div style="margin-left: 20px">Resolve a prefix.</div>          </td>
        </tr>
                        <tr>
          <td class="right">
            <em>public</em>                        <em><a href="../Graphite/Graphite_GraphBuilder.html">Graphite_GraphBuilder</a></em>          </td>
          <td>
            <code>
              <a href="#series"><b>series</b></a>(
                                                                                    $name
                                                    ,                   [                  $opts
                   = array()]                               )
            </code>
            <br /><div style="margin-left: 20px">Add a data series to the graph.</div>          </td>
        </tr>
                        <tr>
          <td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#storeMeta"><b>storeMeta</b></a>(
                                                                                    $type
                                                    ,                                     $name
                                                    ,                                     $data
                                                 )
            </code>
            <br /><div style="margin-left: 20px">Add new metadata.</div>          </td>
        </tr>
                        <tr>
          <td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#url"><b>url</b></a>(
                                                                  [                  $format
                   = null]                               )
            </code>
            <br /><div style="margin-left: 20px">Alias for build().</div>          </td>
        </tr>
                        <tr>
          <td class="right">
            <em>public</em>                        <em>mixed</em>          </td>
          <td>
            <code>
              <a href="#__call"><b>__call</b></a>(
                                                                                    $name
                                                    ,                                     $args
                                                 )
            </code>
            <br /><div style="margin-left: 20px">Handle attempts to call non-existant methods.</div>          </td>
        </tr>
                        <tr>
          <td class="right">
            <em>public</em>                        <em>mixed</em>          </td>
          <td>
            <code>
              <a href="#__get"><b>__get</b></a>(
                                                                                    $name
                                                 )
            </code>
            <br /><div style="margin-left: 20px">Handle attempts to read from non-existant members.</div>          </td>
        </tr>
                        <tr>
          <td class="right">
            <em>public</em>                        <em>void</em>          </td>
          <td>
            <code>
              <a href="#__set"><b>__set</b></a>(
                                                                                    $name
                                                    ,                                     $val
                                                 )
            </code>
            <br /><div style="margin-left: 20px">Handle attempts to write to non-existant members.</div>          </td>
        </tr>
                        <tr>
          <td class="right">
            <em>public</em>                        <em>string</em>          </td>
          <td>
            <code>
              <a href="#__toString"><b>__toString</b></a>(
               )
            </code>
            <br /><div style="margin-left: 20px">Convert to string.</div>          </td>
        </tr>
            </table>


  <a name="sec-methods"></a>
  <h2>Methods</h2>
  <a name='method_detail'></a>
          <a name="methodbuilder" id="builder"><!-- --></a>

    <h3>builder</h3>

    <div class="method-signature">
      static void
      builder(
                                  [array
          $settings
           = null]              )
    </div>

      <p>Builder factory.</p>      
              <h4>Parameters:</h4>
        <table class="detail">
          <thead>
            <tr>
              <th>Name</th>
              <th>Type</th>
              <th class="desc">Description</th>
            </tr>
          </thead>
          <tbody>
                          <tr>
                <td><code>$settings</code></td>
                <td><em>array</em></td>
                <td>
                                      Default settings for graph
                                  </td>
              </tr>
                      </tbody>
        </table>
      
      
      
      
      
                              <a name="methodqsEncode" id="qsEncode"><!-- --></a>

    <h3>qsEncode</h3>

    <div class="method-signature">
      static string
      qsEncode(
                                  string
          $str
                        )
    </div>

      <p>Query string specific uri encoding.</p><div><p>Per RFC-3986:    URI producing applications should percent-encode data octets that    correspond to characters in the reserved set unless these characters    are specifically allowed by the URI scheme to represent data in that    component.</p><p>Php's builtin urlencode function is a general purpose encoder. This means  that it takes the most conservative approach to encoding. It  percent-encodes all octets that are not in the &quot;unreserved&quot; set  (ALPHA / DIGIT / &quot;-&quot; / &quot;.&quot; / &quot;_&quot; / &quot;~&quot;). Actually it goes further than  this and encodes the tilde as well for no apparent reason other than  potential binary compatibility with the output of early non-conforming  user-agents.</p><p>Within the &quot;query&quot; section of a URI there is a broader set of valid  characters allowed without percent-encoding: <ul><li>query         = *( pchar / &quot;/&quot; / &quot;?&quot; )</li><li>pchar         = unreserved / pct-encoded / sub-delims / &quot;:&quot; / &quot;@&quot;</li><li>unreserved    = ALPHA / DIGIT / &quot;-&quot; / &quot;.&quot; / &quot;_&quot; / &quot;~&quot;</li><li>pct-encoded   = &quot;%&quot; HEXDIG HEXDIG</li><li>sub-delims    = &quot;!&quot; / &quot;$&quot; / &quot;&amp;&quot; / &quot;'&quot; / &quot;(&quot; / &quot;)&quot; /
                   &quot;*&quot; / &quot;+&quot; / &quot;,&quot; / &quot;;&quot; / &quot;=&quot;</li></ul>  This encoder will let php do the heavy lifting with urlencode() but will  then decode _most_ query allowed characters. We will leave &quot;&amp;&quot;, &quot;=&quot;, &quot;;&quot;  and &quot;+&quot; percent-encoded to preserve delimiters used in the  application/x-www-form-urlencoded encoding.</p><p>What's the point? I could claim that it reduces the size of the encoded  string, but my real reason is that it makes the Graphite query strings  more readable for debugging.</p></div>      
              <h4>Parameters:</h4>
        <table class="detail">
          <thead>
            <tr>
              <th>Name</th>
              <th>Type</th>
              <th class="desc">Description</th>
            </tr>
          </thead>
          <tbody>
                          <tr>
                <td><code>$str</code></td>
                <td><em>string</em></td>
                <td>
                                      String to encode for embedding in the query component     of a URI.
                                  </td>
              </tr>
                      </tbody>
        </table>
      
      
      
      
      
                    
      <a name="method__construct" id="__construct"><!-- --></a>

    <h3>__construct</h3>

    <div class="method-signature">
      Graphite_GraphBuilder
      __construct(
                                  [array
          $settings
           = null]              )
    </div>

    <p>Constructor.</p>
          <h4>Parameters:</h4>
      <table class="detail">
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr>
        </thead>
        <tbody>
                      <tr>
              <td><code>$settings</code></td>
              <td><em>array</em></td>
              <td>
                                  Default settings for graph
                              </td>
            </tr>
                  </tbody>
      </table>
    
        

    
    
    
        <a name="methodbuild" id="build"><!-- --></a>

    <h3>build</h3>

    <div class="method-signature">
      string
      build(
                                  [string
          $format
           = null]              )
    </div>

    <p>Generate a graphite graph description query string.</p>
          <h4>Parameters:</h4>
      <table class="detail">
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr>
        </thead>
        <tbody>
                      <tr>
              <td><code>$format</code></td>
              <td><em>string</em></td>
              <td>
                                  Format to export data in (null for graph)
                              </td>
            </tr>
                  </tbody>
      </table>
    
          <h4>Exceptions:</h4>
      <table class="detail">
        <thead>
          <tr>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr>
        </thead>
        <tbody>
                      <tr>
              <td><code><a href="../Graphite/Graphite_ConfigurationException.html">Graphite_ConfigurationException</a></code></td>
              <td>
                                  If required data is missing
                              </td>
            </tr>
                  </tbody>
      </table>
        

    
    
    
          <a name="methodbuildSeries" id="buildSeries"><!-- --></a>

    <h3>buildSeries</h3>

    <div class="method-signature">
      <a href="../Graphite/Graph/Graphite_Graph_Series.html">Graphite_Graph_Series</a>
      buildSeries(
                                  string
          $name
                        )
    </div>

    <p>Add a data series to the graph using the <a href="../Graphite/Graph/Graphite_Graph_Series.html">Graphite_Graph_Series</a>  fluent builder DSL.</p>
          <h4>Parameters:</h4>
      <table class="detail">
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr>
        </thead>
        <tbody>
                      <tr>
              <td><code>$name</code></td>
              <td><em>string</em></td>
              <td>
                                  Name of data series to graph
                              </td>
            </tr>
                  </tbody>
      </table>
    
        

    
    
    
        <a name="methodcurrentPrefix" id="currentPrefix"><!-- --></a>

    <h3>currentPrefix</h3>

    <div class="method-signature">
      string
      currentPrefix(
      )
    </div>

    <p>Get the current target prefix.</p>
    
        

    
    
    
        <a name="methodendPrefix" id="endPrefix"><!-- --></a>

    <h3>endPrefix</h3>

    <div class="method-signature">
      <a href="../Graphite/Graphite_GraphBuilder.html">Graphite_GraphBuilder</a>
      endPrefix(
      )
    </div>

    <p>End prefix block.</p>
    
        

    
    
    
        <a name="methodforecast" id="forecast"><!-- --></a>

    <h3>forecast</h3>

    <div class="method-signature">
      <a href="../Graphite/Graphite_GraphBuilder.html">Graphite_GraphBuilder</a>
      forecast(
                                  
          $name
                            ,           array
          $opts
                        )
    </div>

    <p>Add forecast, confidence bands, aberrations and base series using the  Holt-Winters Confidence Band prediction model.</p>
          <h4>Parameters:</h4>
      <table class="detail">
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr>
        </thead>
        <tbody>
                      <tr>
              <td><code>$opts</code></td>
              <td><em>array</em></td>
              <td>
                                  Line options
                              </td>
            </tr>
                      <tr>
              <td><code>$name</code></td>
              <td><em></em></td>
              <td>
                              </td>
            </tr>
                  </tbody>
      </table>
    
          <h4>Exceptions:</h4>
      <table class="detail">
        <thead>
          <tr>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr>
        </thead>
        <tbody>
                      <tr>
              <td><code><a href="../Graphite/Graphite_ConfigurationException.html">Graphite_ConfigurationException</a></code></td>
              <td>
                                  If required options are missing
                              </td>
            </tr>
                  </tbody>
      </table>
        

    
    
    
        <a name="methodgetMeta" id="getMeta"><!-- --></a>

    <h3>getMeta</h3>

    <div class="method-signature">
      mixed
      getMeta(
                                  string
          $type
                            ,           string
          $name
                            ,           [mixed
          $default
           = array()]              )
    </div>

    <p>Get metadata by type and name.</p>
          <h4>Parameters:</h4>
      <table class="detail">
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr>
        </thead>
        <tbody>
                      <tr>
              <td><code>$type</code></td>
              <td><em>string</em></td>
              <td>
                                  Metadata type
                              </td>
            </tr>
                      <tr>
              <td><code>$name</code></td>
              <td><em>string</em></td>
              <td>
                                  Configuration name
                              </td>
            </tr>
                      <tr>
              <td><code>$default</code></td>
              <td><em>mixed</em></td>
              <td>
                                  Data to return if no matching metadata is found
                              </td>
            </tr>
                  </tbody>
      </table>
    
        

    
    
    
        <a name="methodini" id="ini"><!-- --></a>

    <h3>ini</h3>

    <div class="method-signature">
      <a href="../Graphite/Graphite_GraphBuilder.html">Graphite_GraphBuilder</a>
      ini(
                                  string
          $file
                            ,           [array
          $vars
           = null]              )
    </div>

    <p>Load a graph description file.</p>
          <h4>Parameters:</h4>
      <table class="detail">
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr>
        </thead>
        <tbody>
                      <tr>
              <td><code>$file</code></td>
              <td><em>string</em></td>
              <td>
                                  Path to file
                              </td>
            </tr>
                      <tr>
              <td><code>$vars</code></td>
              <td><em>array</em></td>
              <td>
                                  Variables to substitute in the ini file
                              </td>
            </tr>
                  </tbody>
      </table>
    
        

    
    
    
        <a name="methodline" id="line"><!-- --></a>

    <h3>line</h3>

    <div class="method-signature">
      <a href="../Graphite/Graphite_GraphBuilder.html">Graphite_GraphBuilder</a>
      line(
                                  array
          $opts
                        )
    </div>

    <p>Draws a straight line on the graph.</p>
          <h4>Parameters:</h4>
      <table class="detail">
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr>
        </thead>
        <tbody>
                      <tr>
              <td><code>$opts</code></td>
              <td><em>array</em></td>
              <td>
                                  Line options
                              </td>
            </tr>
                  </tbody>
      </table>
    
          <h4>Exceptions:</h4>
      <table class="detail">
        <thead>
          <tr>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr>
        </thead>
        <tbody>
                      <tr>
              <td><code><a href="../Graphite/Graphite_ConfigurationException.html">Graphite_ConfigurationException</a></code></td>
              <td>
                                  If required options are missing
                              </td>
            </tr>
                  </tbody>
      </table>
        

    
    
    
        <a name="methodlookupPrefix" id="lookupPrefix"><!-- --></a>

    <h3>lookupPrefix</h3>

    <div class="method-signature">
      string
      lookupPrefix(
                                  string
          $name
                        )
    </div>

    <p>Lookup a prefix in this graph's metadata.</p>
          <h4>Parameters:</h4>
      <table class="detail">
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr>
        </thead>
        <tbody>
                      <tr>
              <td><code>$name</code></td>
              <td><em>string</em></td>
              <td>
                                  Prefix name
                              </td>
            </tr>
                  </tbody>
      </table>
    
        

    
    
    
        <a name="methodmetric" id="metric"><!-- --></a>

    <h3>metric</h3>

    <div class="method-signature">
      <a href="../Graphite/Graphite_GraphBuilder.html">Graphite_GraphBuilder</a>
      metric(
                                  string
          $name
                            ,           [array
          $opts
           = array()]              )
    </div>

    <p>Add a data series to the graph.</p>
          <h4>Parameters:</h4>
      <table class="detail">
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr>
        </thead>
        <tbody>
                      <tr>
              <td><code>$name</code></td>
              <td><em>string</em></td>
              <td>
                                  Name of data series to graph
                              </td>
            </tr>
                      <tr>
              <td><code>$opts</code></td>
              <td><em>array</em></td>
              <td>
                                  Series options
                              </td>
            </tr>
                  </tbody>
      </table>
    
        

    
    
    
        <a name="methodprefix" id="prefix"><!-- --></a>

    <h3>prefix</h3>

    <div class="method-signature">
      <a href="../Graphite/Graphite_GraphBuilder.html">Graphite_GraphBuilder</a>
      prefix(
                                  string
          $prefix
                        )
    </div>

    <p>Set a prefix to add to subsequent series.</p>
          <h4>Parameters:</h4>
      <table class="detail">
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr>
        </thead>
        <tbody>
                      <tr>
              <td><code>$prefix</code></td>
              <td><em>string</em></td>
              <td>
                                  Prefix to add
                              </td>
            </tr>
                  </tbody>
      </table>
    
        

    
    
    
        <a name="methodqs" id="qs"><!-- --></a>

    <h3>qs</h3>

    <div class="method-signature">
      void
      qs(
                                  [
          $format
           = null]              )
    </div>

    <p>Alias for build().</p>
          <h4>Parameters:</h4>
      <table class="detail">
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr>
        </thead>
        <tbody>
                      <tr>
              <td><code>$format</code></td>
              <td><em></em></td>
              <td>
                              </td>
            </tr>
                  </tbody>
      </table>
    
        

    
    
    
          <a name="methodreset" id="reset"><!-- --></a>

    <h3>reset</h3>

    <div class="method-signature">
      <a href="../Graphite/Graphite_GraphBuilder.html">Graphite_GraphBuilder</a>
      reset(
                                  [array
          $settings
           = null]              )
    </div>

    <p>Reset builder to empty state.</p>
          <h4>Parameters:</h4>
      <table class="detail">
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr>
        </thead>
        <tbody>
                      <tr>
              <td><code>$settings</code></td>
              <td><em>array</em></td>
              <td>
                                  Default settings for graph
                              </td>
            </tr>
                  </tbody>
      </table>
    
        

    
    
    
        <a name="methodresolvePrefix" id="resolvePrefix"><!-- --></a>

    <h3>resolvePrefix</h3>

    <div class="method-signature">
      string
      resolvePrefix(
                                  mixed
          $meta
                        )
    </div>

    <p>Resolve a prefix.</p>
          <h4>Parameters:</h4>
      <table class="detail">
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr>
        </thead>
        <tbody>
                      <tr>
              <td><code>$meta</code></td>
              <td><em>mixed</em></td>
              <td>
                                  Scalar prefix value or array of prefix configuration
                              </td>
            </tr>
                  </tbody>
      </table>
    
        

    
    
    
        <a name="methodseries" id="series"><!-- --></a>

    <h3>series</h3>

    <div class="method-signature">
      <a href="../Graphite/Graphite_GraphBuilder.html">Graphite_GraphBuilder</a>
      series(
                                  string
          $name
                            ,           [array
          $opts
           = array()]              )
    </div>

    <p>Add a data series to the graph.</p>
          <h4>Parameters:</h4>
      <table class="detail">
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr>
        </thead>
        <tbody>
                      <tr>
              <td><code>$name</code></td>
              <td><em>string</em></td>
              <td>
                                  Name of data series to graph
                              </td>
            </tr>
                      <tr>
              <td><code>$opts</code></td>
              <td><em>array</em></td>
              <td>
                                  Series options
                              </td>
            </tr>
                  </tbody>
      </table>
    
        

    
    
    
        <a name="methodstoreMeta" id="storeMeta"><!-- --></a>

    <h3>storeMeta</h3>

    <div class="method-signature">
      void
      storeMeta(
                                  string
          $type
                            ,           string
          $name
                            ,           mixed
          $data
                        )
    </div>

    <p>Add new metadata.</p>
          <h4>Parameters:</h4>
      <table class="detail">
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr>
        </thead>
        <tbody>
                      <tr>
              <td><code>$type</code></td>
              <td><em>string</em></td>
              <td>
                                  Metadata type
                              </td>
            </tr>
                      <tr>
              <td><code>$name</code></td>
              <td><em>string</em></td>
              <td>
                                  Configuration name
                              </td>
            </tr>
                      <tr>
              <td><code>$data</code></td>
              <td><em>mixed</em></td>
              <td>
                                  Metadata
                              </td>
            </tr>
                  </tbody>
      </table>
    
        

    
    
    
        <a name="methodurl" id="url"><!-- --></a>

    <h3>url</h3>

    <div class="method-signature">
      void
      url(
                                  [
          $format
           = null]              )
    </div>

    <p>Alias for build().</p>
          <h4>Parameters:</h4>
      <table class="detail">
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr>
        </thead>
        <tbody>
                      <tr>
              <td><code>$format</code></td>
              <td><em></em></td>
              <td>
                              </td>
            </tr>
                  </tbody>
      </table>
    
        

    
    
    
        <a name="method__call" id="__call"><!-- --></a>

    <h3>__call</h3>

    <div class="method-signature">
      mixed
      __call(
                                  string
          $name
                            ,           array
          $args
                        )
    </div>

    <p>Handle attempts to call non-existant methods.</p><div><p>Looks for $name in settings and gets/sets value if found.  If the setting isn't valid an E_USER_NOTICE warning will be raised.</p></div>
          <h4>Parameters:</h4>
      <table class="detail">
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr>
        </thead>
        <tbody>
                      <tr>
              <td><code>$name</code></td>
              <td><em>string</em></td>
              <td>
                                  Method name
                              </td>
            </tr>
                      <tr>
              <td><code>$args</code></td>
              <td><em>array</em></td>
              <td>
                                  Invocation arguments
                              </td>
            </tr>
                  </tbody>
      </table>
    
        

    
    
    
        <a name="method__get" id="__get"><!-- --></a>

    <h3>__get</h3>

    <div class="method-signature">
      mixed
      __get(
                                  string
          $name
                        )
    </div>

    <p>Handle attempts to read from non-existant members.</p><div><p>Looks for $name in settings and returns value if found.  If the setting isn't valid an E_USER_NOTICE warning will be raised.</p></div>
          <h4>Parameters:</h4>
      <table class="detail">
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr>
        </thead>
        <tbody>
                      <tr>
              <td><code>$name</code></td>
              <td><em>string</em></td>
              <td>
                                  Setting name
                              </td>
            </tr>
                  </tbody>
      </table>
    
        

    
    
    
        <a name="method__set" id="__set"><!-- --></a>

    <h3>__set</h3>

    <div class="method-signature">
      void
      __set(
                                  string
          $name
                            ,           mixed
          $val
                        )
    </div>

    <p>Handle attempts to write to non-existant members.</p><div><p>Sets setting $name=$val if $name is a valid setting.  If the setting isn't valid an E_USER_NOTICE warning will be raised.</p></div>
          <h4>Parameters:</h4>
      <table class="detail">
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th class="desc">Description</th>
          </tr>
        </thead>
        <tbody>
                      <tr>
              <td><code>$name</code></td>
              <td><em>string</em></td>
              <td>
                                  Member name
                              </td>
            </tr>
                      <tr>
              <td><code>$val</code></td>
              <td><em>mixed</em></td>
              <td>
                                  Value to set
                              </td>
            </tr>
                  </tbody>
      </table>
    
        

    
    
    
        <a name="method__toString" id="__toString"><!-- --></a>

    <h3>__toString</h3>

    <div class="method-signature">
      string
      __toString(
      )
    </div>

    <p>Convert to string.</p>
    
        

    
    
    
  
<p class="notes">
  Located in <a class="field" href="_src---Graphite---GraphBuilder.php.html">/src/Graphite/GraphBuilder.php</a> 
  [<span class="field">line 26</span>]
</p>

      </div>
    </div>
    <footer id="footer">
      <div class="copyright">
      Copyright  2012 <a href="http://bd808.com">Bryan Davis</a> and
      contributors. All Rights Reserved.
      </div>
      <div class="license">
      Code published under the <a href="http://www.opensource.org/licenses/BSD-2-Clause">Simplified BSD License</a>. Documentation published under the <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>.
      </div>
      <div class="credit">
        Documentation generated on Tue, 03 Apr 2012 17:34:02 -0700 by <a href="http://www.phpdoc.org">phpDocumentor 1.4.3</a>
      </div>
    </footer>
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-18797634-3']);
    _gaq.push(['_trackPageview']);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  </body>
</html>